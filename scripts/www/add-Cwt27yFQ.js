import{r as o,h as N,z as q,b as l,d as m,l as t,F as x,i as z,g as F,J as I,M as B,o as n,L as C,t as S,u as g}from"./.pnpm-B-_m2kGH.js";import{m as y}from"./request-C1_hm9C_.js";import{u as D}from"./station-DOwaTfnq.js";import{u as O,a as R}from"./dict-CwYOActj.js";import{_ as L}from"./navBar-Sc4C80VW.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DyucNCMT.js";const P=u=>y({url:"/biz/tankOpw/queryPage",method:"post",data:u}),U=u=>y({url:"biz/tankOpw/add",method:"post",data:u}),$={key:0,class:"listContext"},A={class:"content"},E={class:"item"},J={class:"num"},T={class:"status"},j={key:1,class:"content"},G={class:"form"},H={__name:"add",setup(u){const{refueller_status:b}=O("refueller_status"),h=D(),c=N(),w=o(null),r=o(!0),f=o(null),a=o({status:1,manufacturer:"",opwSn:""}),p=()=>{f.value.validate().then(()=>{a.value.stationId=c.query.id,U(a.value).then(d=>{d.code==200&&(r.value=!0,_())})})},V=o({pageSize:10,pageNum:1,stationId:c.query.id}),i=o([]),_=async()=>{let d=await P(V.value);i.value=d.data.list,i.value.length==0&&(i.value=[],r.value=!1)};return q(()=>{w.value=c.query.id||h.stationId,_()}),(d,e)=>{const v=I,k=B;return n(),l("div",null,[m(L,{title:r.value?"液位仪列表":"新增"},null,8,["title"]),r.value?(n(),l("div",$,[t("div",A,[(n(!0),l(x,null,z(i.value,s=>(n(),l("div",E,[t("div",J,[e[2]||(e[2]=C("液位仪SN码: ")),t("span",null,S(s.opwSn),1)]),t("div",T,S(g(R)(s.status,g(b))),1)]))),256))])])):(n(),l("div",j,[t("div",G,[m(k,{ref_key:"formRef",ref:f,onSubmit:p},{default:F(()=>[e[3]||(e[3]=t("div",{class:"title"},"青岛航油化工有限公司万都加油站",-1)),m(v,{border:!1,modelValue:a.value.opwSn,"onUpdate:modelValue":e[0]||(e[0]=s=>a.value.opwSn=s),name:"opwSn",label:"液位仪SN码",placeholder:"液位仪SN码",rules:[{required:!0,message:"请填写液位仪SN码"}]},null,8,["modelValue"]),m(v,{border:!1,modelValue:a.value.manufacturer,"onUpdate:modelValue":e[1]||(e[1]=s=>a.value.manufacturer=s),name:"manufacturer",label:"生产厂商",placeholder:"生产厂商",rules:[{required:!0,message:"请填写生产厂商"}]},null,8,["modelValue"])]),_:1},512)]),t("div",{class:"btn",onClick:p},"确认")]))])}}},te=M(H,[["__scopeId","data-v-016ee73a"]]);export{te as default};
