import{r as l,z as k,h as q,b as r,d as e,l as n,g as i,F as R,i as V,M as C,H as w,a9 as E,E as F,o as u,I,J as B}from"./.pnpm-B-_m2kGH.js";import{_ as L}from"./navBar-Sc4C80VW.js";import{u as N,q as S}from"./encoder-BznDzm-Z.js";import{u as M}from"./station-DOwaTfnq.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./request-C1_hm9C_.js";import"./index-DyucNCMT.js";const U={class:"content"},z={__name:"index",setup(G){const _=F(),d=q(),p=N(),c=l(null),t=l([]),f=async()=>{w({message:"数据查询中...",forbidClick:!0,duration:0});let a=await S({id:o.value});E(),a.code==200&&(t.value=a.data)},o=l(null);k(()=>{o.value=d.query.id?d.query.id:M().stationId,f()});const v=()=>{c.value.validate().then(()=>{p.setEncoderInfo(t.value),_.push({path:"confirm",query:{id:o.value}})})};return(a,m)=>{const g=B,b=I,h=C;return u(),r("div",null,[e(L,{title:"编码器安装"}),n("div",U,[e(h,{ref_key:"formRef",ref:c,"label-width":"140"},{default:i(()=>[(u(!0),r(R,null,V(t.value,(s,y)=>(u(),r("div",{key:y},[e(b,{inset:"",title:"脉冲比例"},{default:i(()=>[e(g,{type:"number",modelValue:s.pulsesRate,"onUpdate:modelValue":x=>s.pulsesRate=x,name:"value",label:"采集器: "+s.collectorNo,placeholder:"输入脉冲比例",rules:[{required:!0,message:"请填写脉冲比例"}],"label-align":"left","input-align":"right","error-message-align":"right"},{extra:i(()=>m[0]||(m[0]=[n("div",{class:"temp"},"ml",-1)])),_:2},1032,["modelValue","onUpdate:modelValue","label"])]),_:2},1024)]))),128)),n("div",{class:"btn",onClick:v},"确认")]),_:1},512)])])}}},O=T(z,[["__scopeId","data-v-b9a0642e"]]);export{O as default};
