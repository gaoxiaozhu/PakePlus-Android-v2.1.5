import{z as B,r as l,b as c,d as v,j as C,g as _,l as a,S as L,N as z,F as R,i as w,P as E,E as P,o as i,t as m,O as U}from"./.pnpm-B-_m2kGH.js";import{_ as b,a as F}from"./Frame (1)-C_Kndm2Q.js";import{u as j}from"./station-DOwaTfnq.js";import{s as q}from"./index-4hp_MxG3.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./request-C1_hm9C_.js";import"./index-DyucNCMT.js";const M={class:"Inspection"},O={key:0,class:"content"},$={class:"list"},A=["onClick"],G={class:"top"},H={class:"title"},J={class:"context"},K={class:"address"},Q={class:"footer"},T={class:"phone"},W={__name:"index",setup(X){const h=P(),g=()=>{t.value=[],o.value.pageNum=1,o.value.pageSize=10,u()},k=n=>{j().setStationId(n.id),h.push({name:"inspectionInfo",query:{id:n.id}})};B(()=>{u()});const o=l({pageNum:1,pageSize:10,name:""}),d=l(!1),p=l(!1),r=l(!1),f=l(0),x=()=>{o.value={pageNum:1,pageSize:10,name:""}},y=()=>{x(),t.value=[],p.value=!1,d.value=!0,u()},t=l([]),u=async()=>{let n=await q(o.value);f.value=n.data.total,r.value&&(t.value=[],r.value=!1),t.value=[...t.value,...n.data.list],o.value.pageNum+=1,d.value=!1,t.value.length>=f.value&&(p.value=!0)};return(n,s)=>{const S=L,V=z,N=E,I=U;return i(),c("div",M,[v(S,{modelValue:o.value.name,"onUpdate:modelValue":s[0]||(s[0]=e=>o.value.name=e),shape:"round","show-action":"",placeholder:"请输入加油站名称","left-icon":"","right-icon":"search"},{action:_(()=>[a("div",{onClick:g},"搜索")]),_:1},8,["modelValue"]),t.value.length>0?(i(),c("div",O,[a("div",$,[v(N,{modelValue:r.value,"onUpdate:modelValue":s[2]||(s[2]=e=>r.value=e),onRefresh:y},{default:_(()=>[v(V,{loading:d.value,"onUpdate:loading":s[1]||(s[1]=e=>d.value=e),finished:p.value,"finished-text":"没有更多了",onLoad:u,"immediate-check":!1},{default:_(()=>[(i(!0),c(R,null,w(t.value,e=>(i(),c("div",{class:"item",key:e.id,onClick:Y=>k(e)},[a("div",G,[a("div",H,m(e.name),1)]),a("div",J,[s[3]||(s[3]=a("img",{src:b,alt:"",class:"addressImg"},null,-1)),a("div",K,m(e.address),1)]),a("div",Q,[s[4]||(s[4]=a("img",{src:F,alt:"",class:"phoneImg"},null,-1)),a("div",T,m(e.telephone),1)])],8,A))),128))]),_:1},8,["loading","finished"])]),_:1},8,["modelValue"])])])):(i(),C(I,{key:1,description:"空空如也"}))])}}},le=D(W,[["__scopeId","data-v-c730fbd8"]]);export{le as default};
