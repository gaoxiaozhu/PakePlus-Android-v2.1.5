import{z as L,r as l,b as c,d as v,j as z,g as _,l as a,S as E,N as I,F as R,i as w,P,E as U,o as i,t as m,O as q}from"./.pnpm-B-_m2kGH.js";import{_ as F,a as b}from"./Frame (1)-C_Kndm2Q.js";import{s as j}from"./index-4hp_MxG3.js";import{u as D}from"./station-DOwaTfnq.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./request-C1_hm9C_.js";import"./index-DyucNCMT.js";const O={class:"install"},$={key:0,class:"content"},A={class:"list"},G=["onClick"],H={class:"top"},J={class:"title"},K={class:"context"},Q={class:"address"},T={class:"footer"},W={class:"phone"},X={__name:"index",setup(Y){const h=U(),g=D(),k=()=>{t.value=[],o.value.pageNum=1,o.value.pageSize=10,u()},x=n=>{g.stationId=n.id,h.push({path:"addEquipment",query:{id:n.id}})};L(()=>{u()});const o=l({pageNum:1,pageSize:10,name:""}),d=l(!1),p=l(!1),r=l(!1),f=l(0),y=()=>{o.value={pageNum:1,pageSize:10,name:""}},V=()=>{y(),t.value=[],p.value=!1,d.value=!0,u()},t=l([]),u=async()=>{let n=await j(o.value);f.value=n.data.total,r.value&&(t.value=[],r.value=!1),t.value=[...t.value,...n.data.list],o.value.pageNum+=1,d.value=!1,t.value.length>=f.value&&(p.value=!0)};return(n,s)=>{const N=E,S=I,B=P,C=q;return i(),c("div",O,[v(N,{modelValue:o.value.name,"onUpdate:modelValue":s[0]||(s[0]=e=>o.value.name=e),shape:"round","show-action":"",placeholder:"请输入加油站名称","left-icon":"","right-icon":"search"},{action:_(()=>[a("div",{onClick:k},"搜索")]),_:1},8,["modelValue"]),t.value.length>0?(i(),c("div",$,[a("div",A,[v(B,{modelValue:r.value,"onUpdate:modelValue":s[2]||(s[2]=e=>r.value=e),onRefresh:V},{default:_(()=>[v(S,{loading:d.value,"onUpdate:loading":s[1]||(s[1]=e=>d.value=e),finished:p.value,"finished-text":"没有更多了",onLoad:u,"immediate-check":!1},{default:_(()=>[(i(!0),c(R,null,w(t.value,e=>(i(),c("div",{class:"item",key:e.id,onClick:Z=>x(e)},[a("div",H,[a("div",J,m(e.name),1)]),a("div",K,[s[3]||(s[3]=a("img",{src:F,alt:"",class:"addressImg"},null,-1)),a("div",Q,m(e.address),1)]),a("div",T,[s[4]||(s[4]=a("img",{src:b,alt:"",class:"phoneImg"},null,-1)),a("div",W,m(e.telephone),1)])],8,G))),128))]),_:1},8,["loading","finished"])]),_:1},8,["modelValue"])])])):(i(),z(C,{key:1,description:"空空如也"}))])}}},ie=M(X,[["__scopeId","data-v-076a7680"]]);export{ie as default};
