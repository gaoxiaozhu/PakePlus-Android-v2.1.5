import{z as C,r as n,b as c,d as _,j as L,g as p,l as a,S as b,N as z,F as I,i as R,P as w,E,o as i,t as m,O as P}from"./.pnpm-B-_m2kGH.js";import{_ as U,a as F}from"./Frame (1)-C_Kndm2Q.js";import{u as j}from"./station-DOwaTfnq.js";import{s as q}from"./index-4hp_MxG3.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./request-C1_hm9C_.js";import"./index-DyucNCMT.js";const M={class:"install"},O={key:0,class:"content"},$={class:"list"},A=["onClick"],G={class:"top"},H={class:"title"},J={class:"context"},K={class:"address"},Q={class:"footer"},T={class:"phone"},W={__name:"index",setup(X){const h=E(),g=()=>{t.value=[],o.value.pageNum=1,o.value.pageSize=10,u()},k=l=>{j().setStationId(l.id),h.push({path:"list",query:{id:l.id}})};C(()=>{u()});const o=n({pageNum:1,pageSize:10,name:""}),d=n(!1),v=n(!1),r=n(!1),f=n(0),x=()=>{o.value={pageNum:1,pageSize:10,name:""}},y=()=>{x(),t.value=[],v.value=!1,d.value=!0,u()},t=n([]),u=async()=>{let l=await q(o.value);f.value=l.data.total,r.value&&(t.value=[],r.value=!1),t.value=[...t.value,...l.data.list],o.value.pageNum+=1,d.value=!1,t.value.length>=f.value&&(v.value=!0)};return(l,s)=>{const S=b,V=z,N=w,B=P;return i(),c("div",M,[_(S,{modelValue:o.value.name,"onUpdate:modelValue":s[0]||(s[0]=e=>o.value.name=e),shape:"round","show-action":"",placeholder:"请输入加油站名称","left-icon":"","right-icon":"search"},{action:p(()=>[a("div",{onClick:g},"搜索")]),_:1},8,["modelValue"]),t.value.length>0?(i(),c("div",O,[a("div",$,[_(N,{modelValue:r.value,"onUpdate:modelValue":s[2]||(s[2]=e=>r.value=e),onRefresh:y},{default:p(()=>[_(V,{loading:d.value,"onUpdate:loading":s[1]||(s[1]=e=>d.value=e),finished:v.value,"finished-text":"没有更多了",onLoad:u,"immediate-check":!1},{default:p(()=>[(i(!0),c(I,null,R(t.value,e=>(i(),c("div",{class:"item",key:e.id,onClick:Y=>k(e)},[a("div",G,[a("div",H,m(e.name),1)]),a("div",J,[s[3]||(s[3]=a("img",{src:U,alt:"",class:"addressImg"},null,-1)),a("div",K,m(e.address),1)]),a("div",Q,[s[4]||(s[4]=a("img",{src:F,alt:"",class:"phoneImg"},null,-1)),a("div",T,m(e.telephone),1)])],8,A))),128))]),_:1},8,["loading","finished"])]),_:1},8,["modelValue"])])])):(i(),L(B,{key:1,description:"空空如也"}))])}}},ne=D(W,[["__scopeId","data-v-572bbb4c"]]);export{ne as default};
