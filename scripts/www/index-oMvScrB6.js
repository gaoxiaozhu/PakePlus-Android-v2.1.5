import{z as C,r as n,b as c,d as v,j as L,g as _,l as a,S as z,N as I,F as R,i as w,P as E,E as P,o as i,t as m,O as U}from"./.pnpm-B-_m2kGH.js";import{_ as F,a as b}from"./Frame (1)-C_Kndm2Q.js";import{u as j}from"./station-DOwaTfnq.js";import{s as q}from"./index-4hp_MxG3.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./request-C1_hm9C_.js";import"./index-DyucNCMT.js";const M={class:"install"},O={key:0,class:"content"},T={class:"list"},$=["onClick"],A={class:"top"},G={class:"title"},H={class:"context"},J={class:"address"},K={class:"footer"},Q={class:"phone"},W={__name:"index",setup(X){const h=P(),g=()=>{t.value=[],o.value.pageNum=1,o.value.pageSize=10,u()},k=l=>{j().setStationId(l.id),h.push({path:"/installType",query:{id:l.id}})};C(()=>{u()});const o=n({pageNum:1,pageSize:10,name:""}),d=n(!1),p=n(!1),r=n(!1),f=n(0),y=()=>{o.value={pageNum:1,pageSize:10,name:""}},x=()=>{y(),t.value=[],p.value=!1,d.value=!0,u()},t=n([]),u=async()=>{let l=await q(o.value);f.value=l.data.total,r.value&&(t.value=[],r.value=!1),t.value=[...t.value,...l.data.list],o.value.pageNum+=1,d.value=!1,t.value.length>=f.value&&(p.value=!0)};return(l,s)=>{const S=z,V=I,N=E,B=U;return i(),c("div",M,[v(S,{modelValue:o.value.name,"onUpdate:modelValue":s[0]||(s[0]=e=>o.value.name=e),shape:"round","show-action":"",placeholder:"请输入加油站名称","left-icon":"","right-icon":"search"},{action:_(()=>[a("div",{onClick:g},"搜索")]),_:1},8,["modelValue"]),t.value.length>0?(i(),c("div",O,[a("div",T,[v(N,{modelValue:r.value,"onUpdate:modelValue":s[2]||(s[2]=e=>r.value=e),onRefresh:x},{default:_(()=>[v(V,{loading:d.value,"onUpdate:loading":s[1]||(s[1]=e=>d.value=e),finished:p.value,"finished-text":"没有更多了",onLoad:u,"immediate-check":!1},{default:_(()=>[(i(!0),c(R,null,w(t.value,e=>(i(),c("div",{class:"item",key:e.id,onClick:Y=>k(e)},[a("div",A,[a("div",G,m(e.name),1)]),a("div",H,[s[3]||(s[3]=a("img",{src:F,alt:"",class:"addressImg"},null,-1)),a("div",J,m(e.address),1)]),a("div",K,[s[4]||(s[4]=a("img",{src:b,alt:"",class:"phoneImg"},null,-1)),a("div",Q,m(e.telephone),1)])],8,$))),128))]),_:1},8,["loading","finished"])]),_:1},8,["modelValue"])])])):(i(),L(B,{key:1,description:"空空如也"}))])}}},ne=D(W,[["__scopeId","data-v-762d1ec2"]]);export{ne as default};
