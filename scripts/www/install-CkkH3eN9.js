import{z as b,r as l,b as c,l as s,d as m,j as z,g as _,S as I,N as R,F as g,i as w,P as E,u as P,E as U,o as i,t as f,O as F}from"./.pnpm-B-_m2kGH.js";import{_ as j,a as q}from"./Frame (1)-C_Kndm2Q.js";import{u as D}from"./station-DOwaTfnq.js";import{s as M}from"./index-4hp_MxG3.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./request-C1_hm9C_.js";import"./index-DyucNCMT.js";const $={class:"install"},A={key:0,class:"content"},G={class:"list"},H=["onClick"],J={class:"top"},K={class:"title"},Q={class:"context"},T={class:"address"},W={class:"footer"},X={class:"phone"},Y={class:"footerBtm"},Z={__name:"install",setup(ee){const v=U(),k=()=>{t.value=[],n.value.pageNum=1,n.value.pageSize=10,u()},S=()=>{v.push({path:"index"})},x=o=>{D().setStationId(o.id),v.push({path:"index",query:{id:o.id}})};b(()=>{u()});const n=l({pageNum:1,pageSize:10,name:""}),d=l(!1),p=l(!1),r=l(!1),h=l(0),B=()=>{n.value={pageNum:1,pageSize:10,name:""}},y=()=>{B(),t.value=[],p.value=!1,d.value=!0,u()},t=l([]),u=async()=>{let o=await M(n.value);h.value=o.data.total,r.value&&(t.value=[],r.value=!1),t.value=[...t.value,...o.data.list],n.value.pageNum+=1,d.value=!1,t.value.length>=h.value&&(p.value=!0)};return(o,e)=>{const V=I,C=R,N=E,L=F;return i(),c(g,null,[s("div",$,[m(V,{modelValue:n.value.name,"onUpdate:modelValue":e[0]||(e[0]=a=>n.value.name=a),shape:"round","show-action":"",placeholder:"请输入加油站名称","left-icon":"","right-icon":"search",onSearch:k},{action:_(()=>[s("div",{onClick:S},"新增")]),_:1},8,["modelValue"]),t.value.length>0?(i(),c("div",A,[s("div",G,[m(N,{modelValue:r.value,"onUpdate:modelValue":e[2]||(e[2]=a=>r.value=a),onRefresh:y},{default:_(()=>[m(C,{loading:d.value,"onUpdate:loading":e[1]||(e[1]=a=>d.value=a),finished:p.value,"finished-text":"没有更多了",onLoad:u,"immediate-check":!1},{default:_(()=>[(i(!0),c(g,null,w(t.value,a=>(i(),c("div",{class:"item",key:a.id,onClick:se=>x(a)},[s("div",J,[s("div",K,f(a.name),1)]),s("div",Q,[e[5]||(e[5]=s("img",{src:j,alt:"",class:"addressImg"},null,-1)),s("div",T,f(a.address),1)]),s("div",W,[e[6]||(e[6]=s("img",{src:q,alt:"",class:"phoneImg"},null,-1)),s("div",X,f(a.telephone),1)])],8,H))),128))]),_:1},8,["loading","finished"])]),_:1},8,["modelValue"])])])):(i(),z(L,{key:1,description:"空空如也"}))]),s("div",Y,[s("div",{class:"btn",onClick:e[3]||(e[3]=()=>P(v).go(-1))},"返回"),s("div",{class:"nexBtn",onClick:e[4]||(e[4]=(...a)=>o.nexBtn&&o.nexBtn(...a))},"确认")])],64)}}},re=O(Z,[["__scopeId","data-v-ac2b4b0f"]]);export{re as default};
