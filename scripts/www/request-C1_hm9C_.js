import{ai as r,C as o,a6 as c}from"./.pnpm-B-_m2kGH.js";import{r as i}from"./index-DyucNCMT.js";function k(t){var e=r.create({baseURL:"https://operator.sicsits.com/oms"});return e.interceptors.request.use(a=>{var s=localStorage.getItem("token");return s&&(a.headers.Authorization=`Bearer ${s}`),a},Promise.reject),e.interceptors.response.use(a=>{if(a.data.code==401){localStorage.removeItem("token"),i.push("/login");return}return a.data.code!=200?(o(a.data.msg),Promise.reject(a.data)):a.data},a=>(n(a),Promise.reject(a))),e(t)}function n(t){let e="";if(t.response)switch(t.response.status){case 302:e="接口重定向了！";break;case 400:e="参数不正确！";break;case 401:e="您未登录，或者登录已经超时，请先登录！";break;case 403:e="您没有权限操作！";break;case 404:e=`请求地址出错: ${t.response.config.url}`;break;case 408:e="请求超时！";break;case 409:e="系统已存在相同数据！";break;case 500:e="服务器内部错误！";break;case 501:e="服务未实现！";break;case 502:e="网关错误！";break;case 503:e="服务不可用！";break;case 504:e="服务暂时无法访问，请稍后再试！";break;case 505:e="HTTP版本不受支持！";break;default:e="异常问题，请联系管理员！";break}t.message.includes("timeout")&&(e="网络请求超时！"),t.message.includes("Network")&&(e=window.navigator.onLine?"服务端异常！":"您断网了！"),c(e),console.log(e)}export{k as m};
