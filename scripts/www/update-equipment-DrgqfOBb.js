import{r as e,z as E,h as T,H as B,b as i,d as v,l as o,F as L,i as b,E as N,o as r,A as O,G as _,t as h,Q as V}from"./.pnpm-B-_m2kGH.js";import"./index-DyucNCMT.js";import{B as z,C as A}from"./index-4hp_MxG3.js";import{_ as F}from"./navBar-Sc4C80VW.js";import{u as G,a as c}from"./dict-CwYOActj.js";import{u as R}from"./station-DOwaTfnq.js";import{u as $}from"./patrol-BIApQs8d.js";import{u as j}from"./displayType-DRjpup3F.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./request-C1_hm9C_.js";const M={class:"installType"},P={class:"list"},Q=["onClick"],J={class:"title"},K={class:"right"},U={__name:"update-equipment",setup(W){const{install_status:u}=G("install_status"),p=N(),m=T(),y=R(),g=$(),w=j(),C=async()=>{p.replace("addEquipment")},n=e([{title:"显示屏安装",status:"",path:"/display",show:!0,flag:!0},{title:"液位仪安装",status:"",path:"/level",show:!0,flag:!0},{title:"报税口安装",status:"",path:"/tax",show:!0,flag:!0},{title:"编码器安装",status:"",path:"/encoder",show:!0,flag:!0}]),I=(t,a)=>{if(g.path="/station-patrol/update-equipment",a=="显示屏安装"){let d=n.value.filter(s=>s.title=="报税口安装")[0];w.taxStatus=d.status=="已安装"?1:0,p.push({path:"/displayType",query:{id:l.value}});return}p.push({path:t,query:{id:l.value}})};e(!1),e(null),e({});const l=e(null);E(()=>{l.value=m.query.id||y.stationId,q(),k()});const S=e(null),k=async()=>{let t=await z({id:l.value});S.value=t.data.type},f=e(!1),q=async()=>{f.value=B({message:"加载中...",forbidClick:!0,duration:0}),n.value.forEach(t=>{t.flag=!1}),await D(),f.value.close()},x=e({}),D=async()=>{let t=await A({id:l.value});t.code==200&&(x.value=t.data,n.value.forEach(a=>{a.title=="显示屏安装"?a.status=c(t.data.screenInstallStatus,u.value):a.title=="报税口安装"?a.status=c(t.data.taxInstallStatus,u.value):a.title=="编码器安装"?a.status=c(t.data.coderInstallStatus,u.value):a.title=="液位仪安装"&&(a.status=c(t.data.opwInstallStatus,u.value))}))};return(t,a)=>{const d=V;return r(),i("div",null,[v(F,{title:"安装类型",onClickLeft:C}),o("div",M,[o("div",P,[(r(!0),i(L,null,b(n.value,s=>(r(),i("div",{key:s.title,onClick:X=>I(s.path,s.title)},[s.show?(r(),i("div",{key:0,class:_(["item",s.flag?" checked":""])},[o("div",J,h(s.title),1),o("div",K,[o("div",{class:_(["status",s.status=="已安装"?"status":"activeStatus"])},h(s.status),3),v(d,{name:"arrow",color:"#CACCD9"})])],2)):O("",!0)],8,Q))),128))])])])}}},it=H(U,[["__scopeId","data-v-e6d6c674"]]);export{it as default};
